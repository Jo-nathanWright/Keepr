import{r as e,f as a,c as t,p as l,e as s,u as r,d as o,o as i,a as d,b as n,t as c,g as u,F as p,h as m,n as f,q as v,v as g,s as b,w as h}from"./vendor.ac6614a1.js";import{p as w,P as V,k as y,v as x,A as K}from"./index.519e1078.js";const k={name:"Profile",setup(){const l=r(),s=e({newKeep:{},newVault:{}});return a((async()=>{try{await w.getVaultsByProfile(l.params.id),await w.getProfile(l.params.id),await w.getKeepsByProfile(l.params.id)}catch(e){V.toast(e)}})),{state:s,profile:t((()=>K.profile)),vaults:t((()=>K.profileVaults)),keeps:t((()=>K.profileKeeps)),account:t((()=>K.account)),async createKeep(){try{await y.Create(s.newKeep),await w.getKeepsByProfile(l.params.id)}catch(e){V.toast(e,"error")}},async createVault(){try{void 0===s.newVault.isPrivate&&(s.newVault.isPrivate=!1),await x.createVault(s.newVault)}catch(e){V.toast(e,"error")}}}}},C=h();l("data-v-ee5ff536");const P={class:"container-fluid"},U={class:"row justify-content-center mt-5"},D={class:"col-11 d-flex flex-md-row flex-column"},I={class:"ml-md-5"},L={class:"row justify-content-center mt-5"},T={class:"col-11"},j={class:"d-flex mb-2"},q=n("h1",null,"Vaults",-1),R={key:0,class:"action ml-2 d-flex align-self-center","data-toggle":"modal","data-target":"#CreateVault",title:"Add Vault"},A={class:"card-columns"},B={class:"row justify-content-center mt-5"},N={class:"col-11"},S={class:"d-flex mb-2"},_=n("h1",null,"Keeps",-1),F={key:0,class:"action ml-2 d-flex align-self-center","data-toggle":"modal","data-target":"#CreateKeep",title:"Add Keep"},z={class:"card-columns"},E={class:"modal fade",id:"CreateVault",tabindex:"-1","aria-labelledby":"CreateLabel","aria-hidden":"true"},G={class:"modal-dialog modal-dialog-centered"},H={class:"modal-content border-info"},J=n("div",{class:"modal-header"},[n("h5",{class:"modal-title",id:"CreateLabel"}," New Vault "),n("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[n("span",{"aria-hidden":"true"},"×")])],-1),M={class:"modal-body"},O={class:"form-group"},Q=n("label",{for:"vaultTitle"},"Title",-1),W={class:"form-group"},X=n("label",{for:"vaultImg"},"Image URL",-1),Y={class:"form-group"},Z=n("label",{for:"vaultDescription"},"Description",-1),$={class:"form-check"},ee=n("label",{class:"form-check-label",for:"isPrivate"}," Private? ",-1),ae=n("hr",null,null,-1),te=n("div",{class:"d-flex justify-content-end"},[n("button",{type:"submit","data-toggle":"modal","data-target":"#CreateVault",class:"btn btn-info mr-3"}," Create ")],-1),le={class:"modal fade",id:"CreateKeep",tabindex:"-1","aria-labelledby":"CreateLabel","aria-hidden":"true"},se={class:"modal-dialog modal-dialog-centered"},re={class:"modal-content border-info"},oe=n("div",{class:"modal-header"},[n("h5",{class:"modal-title",id:"CreateLabel"}," New Keep "),n("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[n("span",{"aria-hidden":"true"},"×")])],-1),ie={class:"modal-body"},de={class:"form-group"},ne=n("label",{for:"keepTitle"},"Title",-1),ce={class:"form-group"},ue=n("label",{for:"keepImg"},"Image URL",-1),pe={class:"form-group"},me=n("label",{for:"keepDescription"},"Description",-1),fe=n("hr",null,null,-1),ve=n("div",{class:"d-flex justify-content-end"},[n("button",{type:"submit","data-toggle":"modal","data-target":"#CreateKeep",class:"btn btn-info mr-3"}," Create ")],-1);s();const ge=C(((e,a,t,l,s,r)=>{const h=o("VaultCard"),w=o("KeepCard");return i(),d(p,null,[n("div",P,[n("div",U,[n("div",D,[n("img",{class:"rounded",src:l.profile.picture,alt:l.profile.name+"'s Image"},null,8,["src","alt"]),n("div",I,[n("h3",null,c(l.profile.name),1),n("h4",null,"Vaults: "+c(l.vaults.length),1),n("h4",null,"Keeps: "+c(l.keeps.length),1)])])]),n("div",L,[n("div",T,[n("div",j,[q,l.account.id===l.profile.id?(i(),d("h2",R," ➕ ")):u("",!0)]),n("div",A,[(i(!0),d(p,null,m(l.vaults,(e=>(i(),d(h,{key:e.id,vault:e},null,8,["vault"])))),128))])])]),n("div",B,[n("div",N,[n("div",S,[_,l.account.id===l.profile.id?(i(),d("h2",F," ➕ ")):u("",!0)]),n("div",z,[(i(!0),d(p,null,m(l.keeps,(e=>(i(),d(w,{key:e.id,keep:e},null,8,["keep"])))),128))])])])]),n("div",E,[n("div",G,[n("div",H,[J,n("div",M,[n("form",{onSubmit:a[5]||(a[5]=f((e=>l.createVault()),["prevent"]))},[n("div",O,[Q,v(n("input",{type:"text",class:"form-control",id:"vaultTitle","onUpdate:modelValue":a[1]||(a[1]=e=>l.state.newVault.name=e),placeholder:"Title...",maxlength:"28",required:""},null,512),[[g,l.state.newVault.name]])]),n("div",W,[X,v(n("textarea",{class:"form-control",id:"vaultImg","onUpdate:modelValue":a[2]||(a[2]=e=>l.state.newVault.img=e),placeholder:"URL...",required:""},null,512),[[g,l.state.newVault.img]])]),n("div",Y,[Z,v(n("textarea",{class:"form-control",id:"vaultDescription","onUpdate:modelValue":a[3]||(a[3]=e=>l.state.newVault.description=e),placeholder:"Vault Description...",rows:"4",maxlength:"1000",required:""},null,512),[[g,l.state.newVault.description]])]),n("div",$,[v(n("input",{class:"form-check-input",type:"checkbox",value:!0,id:"isPrivate","onUpdate:modelValue":a[4]||(a[4]=e=>l.state.newVault.isPrivate=e)},null,512),[[b,l.state.newVault.isPrivate]]),ee]),ae,te],32)])])])]),n("div",le,[n("div",se,[n("div",re,[oe,n("div",ie,[n("form",{onSubmit:a[9]||(a[9]=f((e=>l.createKeep()),["prevent"]))},[n("div",de,[ne,v(n("input",{type:"text",class:"form-control",id:"keepTitle","onUpdate:modelValue":a[6]||(a[6]=e=>l.state.newKeep.name=e),placeholder:"Title...",maxlength:"28",required:""},null,512),[[g,l.state.newKeep.name]])]),n("div",ce,[ue,v(n("textarea",{class:"form-control",id:"keepImg","onUpdate:modelValue":a[7]||(a[7]=e=>l.state.newKeep.img=e),placeholder:"URL...",required:""},null,512),[[g,l.state.newKeep.img]])]),n("div",pe,[me,v(n("textarea",{class:"form-control",id:"keepDescription","onUpdate:modelValue":a[8]||(a[8]=e=>l.state.newKeep.description=e),placeholder:"Keep Description...",rows:"4",maxlength:"1000",required:""},null,512),[[g,l.state.newKeep.description]])]),fe,ve],32)])])])])],64)}));k.render=ge,k.__scopeId="data-v-ee5ff536";export default k;
